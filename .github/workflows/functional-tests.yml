name: Functional Tests
on: [push]
env:
  CI: true
  RUNNER_TEMP: '/tmp/' # this is needed just to make `act` work

jobs:
  functional-chromium:
    name: Chromium Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: chromium

  functional-firefox:
    name: Firefox Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: firefox

  functional-webkit:
    name: WebKit Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: yarn -s && yarn test:functional --runInBand
        env:
          BROWSER: webkit
